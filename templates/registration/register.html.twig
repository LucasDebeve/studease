{% extends 'base.html.twig' %}

{% block title %}Studease - Inscription{% endblock %}

{% block body %}
    <div class="container-lg my-5">
        <h1 class="text-center fw-bold">INSCRIPTION</h1>

        {{ form_errors(registrationForm) }}

        {{ form_start(registrationForm, {'attr': {'class': 'auth required'}}) }}
        <div class="mb-3 required">
            {{ form_label(registrationForm.email) }}<span style="color: red"> *</span>
            {{ form_widget(registrationForm.email, {'attr': {'class': 'form-control'}}) }}
            {% if errors_email is defined %}
                <div style="color: red">{{ errors_email.message }}</div>
            {% endif %}
        </div>
        <div class="mb-3 required">
            {{ form_label(registrationForm.plainPassword) }}<span style="color: red"> *</span>
            {{ form_widget(registrationForm.plainPassword, {'attr': {'class': 'password form-control'}}) }}
            {% if errors_password is defined %}
                <div style="color: red">{{ errors_password.message }}</div>
            {% endif %}
        </div>
        <div class="mb-3">
            {{ form_widget(registrationForm.showPassword, {'attr': {'class': 'form-check-input'}}) }}
            {{ form_label(registrationForm.showPassword) }}
        </div>
        <div class="mb-3">
            {{ form_label(registrationForm.tpUser) }}
            {{ form_widget(registrationForm.tpUser, {'attr': {'class': 'form-select'}}) }}
        </div>
        <div class="mb-3 required">
            {{ form_widget(registrationForm.agreeTerms, {'attr': {'class': 'form-check-input'}}) }}
            {{ form_label(registrationForm.agreeTerms, 'J\'accepte les ') }}
            <a href="{{ path('app_cgu') }}">Conditions Générale d'Utilisation</a><span style="color: red"> *</span>
        </div>
        <button type="submit" class="btn btn-primary rounded-0 w-100 mb-3">S'inscrire</button>
        <div>Déjà inscris ? <a href="{{ path('app_login') }}">Connectez-vous</a></div>
        {{ form_end(registrationForm) }}
    </div>
{% endblock %}

{% block javascripts %}
    <script>
        function showPassword(element) {
        const x = document.querySelectorAll(".password");
            x.forEach(el => {
                if (element.checked) {
                    el.type = "text";
            } else {
                    el.type = "password";
            }
        });
    }
    </script>
{% endblock %}